{% extends 'base.html.twig' %}


{% block body %}
    {{ form_start(form) }}

    {{ form_row(form.email,  {'attr' : {'placeholder' : "Email"}}) }}
    {{ form_widget(form.password, {'attr' : {'oninput' : "passValidation()"},'id':"psswdId"})}}
    {{ form_errors(form.password) }}
    <p style="color: black" id="AE">Aucun espace</p>
    <p style="color: black" id="Min">1 miniscule</p>
    <p style="color: black" id="Maj">1 majuscule</p>
    <p style="color: black" id="Chif">1 chifre</p>
    <p style="color: black" id="Char">8 caractères</p>
    {{ form_row(form.role) }}
    {{ form_row(form.nom, {'attr' : {'placeholder' : "Nom"}}) }}
    <input type="checkbox" name="sendMsg">Envoyer un Message
    {{ form_row(form.prenom, {'attr' : {'placeholder' : "Prénom"}}) }}
    {{ form_row(form.telephone, {'attr' : {'placeholder' : "Numéro de téléphone"}}) }}
    {{ form_row(form.dateNaissance, {'attr' : {'placeholder' : "Date de naissance"}}) }}
    {{ form_row(form.poste, {'attr' : {'placeholder' : "Poste Occupé"}}) }}
    {{ form_row(form.Sauvegarder,{'attr' : {'id':"save"}})}}
{% endblock %}
{% block javascripts %}
    <script>

        function passValidation() {

            var password = document.getElementById("psswdId").value;

            var AE   = document.getElementById("AE").  valueOf();
            var Min  = document.getElementById("Min"). valueOf();
            var Maj  = document.getElementById("Maj"). valueOf();
            var Chif = document.getElementById("Chif").valueOf();
            var Char = document.getElementById("Char").valueOf();
            var save = document.getElementById("save");
            let validation=0;

            if (password.match(/\s/)) { AE.style.color = "red";validation--;}
            else{ AE.style.color = "green";validation++;}

            if (password.match(/[A-Z]/)) { Maj.style.color = "green";validation++;}
            else{ Maj.style.color = "red";validation--;}

            if (password.match(/[a-z]/)) { Min.style.color = "green";validation++;}
            else{Min.style.color = "red";validation--;}

            if (password.match(/[0-9]/)) {Chif.style.color = "green";validation++;}
            else{Chif.style.color = "red";validation--;}

            if (password.length<8) {Char.style.color = "red";validation--;}
            else {Char.style.color = "green";validation++;}

            if(validation>5){
                save.hidden=false;
            }


        }
    </script>
{% endblock %}